<p id="notice"><%= notice %></p>

<% cache (cache_key_for_products) do %>


<h1>Products</h1>
<%= form_with(url: products_path, method: 'get', local: true) do |form| %>
  <%= form.label :q, 'Search for:' %>
  <%= form.text_field :q, id: 'q', value: params[:q] %>
  <%= form.submit 'Search' %>
<% end %>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Image url</th>
      <th>Color</th>
      <th>Price</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <%= render @products %>
  </tbody>
</table>

<br>

<%= link_to 'New Product', new_product_path %>

<% end %>
